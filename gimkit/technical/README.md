# This is for explaining how the gimkit scripts work and is *highly* technical

### Starting off, the initial few lines (1-20) are for setting up functions used to compact everything as much as possible

```javascript
let cN = "hckcntnt";
let d = "div";
let a3 = "#33aa33";
let a33 = "#aa3333";
```
These let statements define some of the more common terms within the gimkit.js file

```javascript
function gcn(x,y){return document.getElementsByClassName(x)[y]}
```
Returns the specifc index of the list of elements with a particular class name, for example `hckcntnt` is used to identify the buttons and boxes generated by the scripts

```javascript
function cre(t,c,s,i){
  let x=document.createElement(t);
  x.className=c,
  x.style=s,
  x.innerHTML=i;
  return x;
}
```
Returns a new element (not yet added to the document) with the `tagName`, `className`, `style`, and `innerHTML` set through the function. Afterwards, last modifications can be taken, and then the element is appended to the document.

```javascript
function app(v){
  document.body.appendChild(v)
}
```
Simple function to append the provided element to the body

```javascript
function appd(v){
  document.getElementsByClassName(cN)[1].appendChild(v)
}
function apps(v){
  document.getElementsByClassName(cN)[7].appendChild(v)
}
```
Both of these functions are used for appending the buttons that run the scripts (highlight answer etc.) and the theme changing buttons to there provided spaces

```javascript
function appup(v){
  document.getElementsByClassName('sc-fYiAbW')[0].appendChild(v)
}
```
This function is for the next upgrade display at the top of the gimkit screen

Lastly, not a function but is required.
```javascript
let newstyle = document.createElement('style');
newstyle.textContent='.fkLxCm {box-sizing: border-box;font-size: 17px;color: white;font-weight: bold;text-align: center;display: inline-block;user-select: none;cursor: pointer;padding: 12px 16px;background: rgb(0, 85, 255);transition: background 0.2s ease 0s;border-radius: 4px;font-family: "Product Sans", sans-serif;}';
app(newstyle);
```
These few lines are needed for the button styling to work. Else, you would have to navigate to the shop and buy something for it to update and look nice

### Next up is the newly added method of getting the questions and there answers!

```javascript
let qs = [],
    as = [];
```
Defining initial variables. `qs` and `as` are used to find the question index, and the corresponding answer

```javascript
let script = document.createElement('script');
script.src = "https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js";
document.head.appendChild(script);
```
This loads in JQuery to make it easier to get the questions and answers

```javascript
function wait() { // simplistic (not) way to run the jquery once the source loads
  if(typeof $ !== "undefined") {
    clearInterval(waitInt);
    $.getJSON("https://www.gimkit.com/api/games/fetch/" + JSON[Object.keys(JSON)[0]][0].game,function(data){
    let q = data.kit.questions;
    for(let x=0;x<q.length;x++) {
      qs.push(q[x].text);
      as.push(q[x].answers[0].text);
    }
    });
  }
}
let waitInt = setInterval(wait, 100);
```
I know this function can be simplified by I am too lazy. Step by step below

```javascript
if(typeof $ !== "undefined") {...}
```
First, the function checks if JQuery has loaded by seeing if `$` is defined.

```javascript
clearInterval(waitInt);
$.getJSON("https://www.gimkit.com/api/games/fetch/" + JSON[Object.keys(JSON)[0]][0].game,function(data){
```
If the previous if statement passes `true`, then we stop the repeating of this function and request the kit information. To get the kit info, we need the kit ID, which just so happens to be in the `JSON` variable. 
```javascript
JSON[Object.keys(JSON)[0]][0].game;
```
The script gets the first question stored on the client which has the kit ID. In fact every question has it.
> *But* why cant you just get whats stored locally? Well as it turns out, this "cheat" used to use it, but then Gimkit removed the identifier to the correct answer, which was a simple `correct:true` which allowed the scripts to get the correct answer, but know that isnt possible. **Thanks Gimkit.**

#### Moving on...

```javascript
let q = data.kit.questions;
```
Once the kit data has loaded, the questions are extracted and put into the variable `q` for safe keeping

```javascript
for(let x=0;x<q.length;x++) {
  qs.push(q[x].text);
  as.push(q[x].answers[0].text);
}
```
Then the script loops through each question, pushes it to `qs` and the corresponding answer to `as`. They are on matching indexes so it is super easy to locate later on.

### Themes!

The variable `hconfig` standing for "hack configuration" hold some key values, which includes the themes colors, the upgrade costs, and the keybinds which can be changed.

```javascript
keybinds:{
  hidemenu: 67, // c:67
  highlight: 72, // h:72
  biganswer: 66, // b:66
  inputanswer: 73, // i:73
  hiddenanswer: 79 // o:79
},
```
The keybind is stored at the character code, with the defaults right next door in the comment.

```javascript
theme:{
  active:"default",
  default:[[48,63,159],[119,19,34],[168,92,21],[13,107,51],[7,98,150]],
  night:[[0,10,18],[38,50,56],[55,71,79],[69,90,100],[84,110,122]],
  thanos:[[13,0,25],[34,0,68],[51,0,102],[62,0,124],[79,23,135]],
  ...
```
This part is packed with RGB colors, yep RGB because of opacity things in styling. yep. The `active` variable stores the currently selected theme.

```javascript
let simplified_for_this = {
  themename:[[question_color],[firstbox_colors],[second_box],[etc_third],[fourth_and_final]]
}
```
The variables explain it all.

Next up...
```javascript
upgrades:{
  money:[0,10,100,1e3,1e4,75e3,3e5,1e6,1e7,1e8],
  streak:[0,15,150,1500,15e3,115e3,45e4,15e5,15e6,2e8],
  multi:[0,50,300,2e3,12e3,85e3,7e5,65e5,65e6,1e9],
  protec:[0,10,250,1e3,25e3,1e5,1e6,5e6,25e6,5e8]
}
```
All the upgrade costs stored in scientific notation. Makes the green/red display tiles at the top turn the color they want too.

*more is coming*
